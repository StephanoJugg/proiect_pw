{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan Madalin\\\\Desktop\\\\ProiectPW\\\\react-frontend\\\\src\\\\components\\\\Admin\\\\AdminRegistration\\\\AdminRegistration.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport './AdminRegistration.scss';\n\nclass AdminRegistration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      'register_username': '',\n      'register_password': '',\n      'register_message': '',\n      'register_type': 0,\n      addFlag: false\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.handleAddAccount = this.handleAddAccount.bind(this);\n  }\n\n  onFormSubmit() {\n    console.log(\"here submit form--->\", this.state); // return;\n\n    if (this.state.register_username.length === 0 || this.state.register_password.length === 0 || this.state.register_type === 0) this.setState({\n      'register_message': ''\n    });\n    const params = new URLSearchParams();\n    params.append('username', this.state.register_username);\n    params.append('password', this.state.register_password);\n    params.append('type', this.state.register_type);\n    const options = {\n      'headers': {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    };\n    axios.post('http://localhost:80/admin/register', params, options).then(() => {\n      this.setState({\n        'register_username': '',\n        'register_password': '',\n        'register_message': '',\n        'register_type': 0\n      });\n      this.forceUpdate();\n    }).catch(error => {\n      if (error.response !== undefined) {\n        this.setState({\n          'register_message': error.response.data.error\n        });\n      } else {\n        console.log(error);\n      }\n    });\n  }\n\n  handleAddAccount() {\n    this.setState({\n      addFlag: !this.state.addFlag\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'AddAdmin',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"addAccount\",\n      href: \"#\",\n      onClick: this.handleAddAccount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, \"User management\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), this.state.addFlag ? /*#__PURE__*/React.createElement(\"form\", {\n      className: 'AddAdminForm',\n      onSubmit: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: 'text',\n      size: '32',\n      maxLength: '32',\n      placeholder: 'Username',\n      pattern: '.{4,}',\n      value: this.state.register_username,\n      onChange: event => {\n        this.setState({\n          'register_username': event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: 'password',\n      size: '32',\n      maxLength: '32',\n      placeholder: 'Password',\n      pattern: '.{8,}',\n      value: this.state.register_password,\n      onChange: event => {\n        this.setState({\n          'register_password': event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: 'radio',\n      name: 'type',\n      value: this.state.register_type,\n      onClick: () => {\n        this.setState({\n          'register_type': 1\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }), \"Administrator\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: 'radio',\n      name: 'type',\n      onClick: () => {\n        this.setState({\n          'register_type': 2\n        });\n      },\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }), \"Tech Support\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: 'Message',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, this.state.register_message), /*#__PURE__*/React.createElement(\"input\", {\n      className: 'Submit',\n      type: 'submit',\n      value: 'Register',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    })) : '');\n  }\n\n}\n\nexport default AdminRegistration;","map":{"version":3,"sources":["C:/Users/Stefan Madalin/Desktop/ProiectPW/react-frontend/src/components/Admin/AdminRegistration/AdminRegistration.js"],"names":["React","axios","AdminRegistration","Component","constructor","props","state","addFlag","onFormSubmit","bind","handleAddAccount","console","log","register_username","length","register_password","register_type","setState","params","URLSearchParams","append","options","localStorage","getItem","post","then","forceUpdate","catch","error","response","undefined","data","render","event","target","value","register_message"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport './AdminRegistration.scss'\n\nclass AdminRegistration extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'register_username': '',\n            'register_password': '',\n            'register_message': '',\n            'register_type': 0,\n            addFlag: false\n        };\n\n        this.onFormSubmit = this.onFormSubmit.bind(this);\n        this.handleAddAccount = this.handleAddAccount.bind(this);\n    }\n\n    onFormSubmit() {\n        console.log(\"here submit form--->\", this.state)\n        // return;\n\n        if (this.state.register_username.length === 0 ||\n            this.state.register_password.length === 0 ||\n            this.state.register_type === 0)\n            this.setState({ 'register_message': '' });\n\n        const params = new URLSearchParams();\n\n        params.append('username', this.state.register_username);\n        params.append('password', this.state.register_password);\n        params.append('type', this.state.register_type);\n\n        const options = {\n            'headers': {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        }\n\n        axios.post(\n            'http://localhost:80/admin/register',\n            params,\n            options\n        ).then(() => {\n            this.setState({\n                'register_username': '',\n                'register_password': '',\n                'register_message': '',\n                'register_type': 0\n            });\n\n            this.forceUpdate();\n        }).catch((error) => {\n            if (error.response !== undefined) {\n                this.setState({ 'register_message': error.response.data.error });\n            } else {\n                console.log(error);\n            }\n        })\n    }\n\n    handleAddAccount() {\n\n        this.setState({\n            addFlag: !this.state.addFlag,\n        })\n    }\n    render() {\n        return (\n            <div className={'AddAdmin'}>\n                <a className=\"addAccount\" href=\"#\" onClick={this.handleAddAccount}>User management</a>\n                <br />\n                <br />\n                {this.state.addFlag ?\n                    <form className={'AddAdminForm'} onSubmit={this.onFormSubmit}>\n                        <input type={'text'} size={'32'} maxLength={'32'} placeholder={'Username'}\n                            pattern={'.{4,}'} value={this.state.register_username} onChange={(event) => {\n                                this.setState({ 'register_username': event.target.value });\n                            }} />\n                        <br />\n                        <input type={'password'} size={'32'} maxLength={'32'} placeholder={'Password'}\n                            pattern={'.{8,}'} value={this.state.register_password} onChange={(event) => {\n                                this.setState({ 'register_password': event.target.value });\n                            }} />\n                        <br />\n                        <label>\n                            <input type={'radio'} name={'type'} value={this.state.register_type} onClick={() => {\n                                this.setState({ 'register_type': 1 });\n                            }} />\n                     Administrator\n                     <br />\n                        </label>\n                        <label>\n                            <input type={'radio'} name={'type'} onClick={() => {\n                                this.setState({ 'register_type': 2 });\n                            }} required />\n                     Tech Support\n                     <br />\n                        </label>\n                        <p className={'Message'}>{this.state.register_message}</p>\n                        <input className={'Submit'} type={'submit'} value={'Register'} />\n                        <br />\n                        <br />\n                    </form> : ''\n                }\n\n            </div>\n        )\n    }\n}\n\nexport default AdminRegistration;"]},"metadata":{},"sourceType":"module"}