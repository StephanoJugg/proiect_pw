{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan Madalin\\\\Desktop\\\\ProiectPW\\\\react-frontend\\\\src\\\\components\\\\Admin\\\\AdminReviewReported\\\\AdminReviewReported.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport './AdminReviewReported.scss';\n\nclass AdminReviewReported extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      'reported': [],\n      'batch_size': 15,\n      'current_index': 0,\n      reportFlag: false\n    };\n    this.onActionButtonClick = this.onActionButtonClick.bind(this);\n    this.getSubmittedQuestions = this.getSubmittedQuestions.bind(this);\n    this.getReportedQuestionsNavigation = this.getReportedQuestionsNavigation.bind(this);\n    this.getReported = this.getReported.bind(this);\n    this.handleReportQuestion = this.handleReportQuestion.bind(this);\n  }\n\n  componentDidMount() {\n    this.getReported();\n  }\n\n  getReported() {\n    const options = {\n      'headers': {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    };\n    axios.get('http://localhost:80/admin/reported', options).then(result => {\n      this.setState({\n        'reported': result.data\n      });\n      this.forceUpdate();\n    }).catch(error => {\n      if ('response' in error) {\n        console.log(error.response);\n      } else {\n        console.log(error);\n      }\n    });\n  }\n\n  onActionButtonClick(question_id, action, index) {\n    const params = new URLSearchParams();\n    params.append('question_id', question_id);\n    params.append('action', action);\n    params.append('user_id', this.state.reported[index].UserID);\n    const options = {\n      'headers': {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    };\n    axios.post('http://localhost:80/admin/reported', params, options).then(() => {\n      this.getReported();\n    }).catch(error => {\n      if ('response' in error) {\n        console.log(error.response);\n      } else {\n        console.log(error);\n      }\n    });\n  }\n\n  getSubmittedQuestions() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      cellSpacing: '0',\n      cellPadding: '0',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: 'TableHeader',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \"Question ID\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, \"Reported Questions\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, this.state.reported.map((current, index) => {\n      if (this.state.current_index <= index && this.state.current_index + this.state.batch_size > index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 41\n          }\n        }, current.QuestionID), /*#__PURE__*/React.createElement(\"td\", {\n          className: 'Highlight',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 41\n          }\n        }, current.Username), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 41\n          }\n        }, current.Answer1), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => {\n            this.onActionButtonClick(current.QuestionID, 1, index);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 45\n          }\n        }, \"Approve\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => {\n            this.onActionButtonClick(current.QuestionID, 2, index);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 45\n          }\n        }, \"Report User\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => {\n            this.onActionButtonClick(current.QuestionID, 3, index);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 45\n          }\n        }, \"Delete\")));\n      } else {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 40\n          }\n        });\n      }\n    }, this)));\n  }\n\n  getReportedQuestionsNavigation() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'TableNavigation',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          'current_index': 0\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, '<<'), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          'current_index': this.state.current_index > this.state.batch_size ? this.state.current_index - this.state.batch_size : 0\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, '<'), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, \"Page \", Math.round(this.state.current_index / this.state.batch_size) + 1, \" of \", this.state.reported.length === 0 ? 1 : Math.ceil(this.state.reported.length / this.state.batch_size)), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          'current_index': this.state.current_index + this.state.batch_size < this.state.reported.length ? this.state.current_index + this.state.batch_size : this.state.reported.length > this.state.batch_size ? this.state.reported.length - this.state.batch_size : 0\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, '>'), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          'current_index': this.state.reported.length > this.state.batch_size ? (Math.ceil(this.state.reported.length / this.state.batch_size) - 1) * this.state.batch_size : 0\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, '>>'));\n  }\n\n  handleReportQuestion() {\n    this.setState({\n      reportFlag: !this.state.reportFlag\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'AdminReviewReported',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"reportedQuestions\",\n      onClick: this.handleReportQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, \"Reported Questions\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }), this.state.reportFlag ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, this.getSubmittedQuestions(), this.getReportedQuestionsNavigation()) : '');\n  }\n\n}\n\nexport default AdminReviewReported;","map":{"version":3,"sources":["C:/Users/Stefan Madalin/Desktop/ProiectPW/react-frontend/src/components/Admin/AdminReviewReported/AdminReviewReported.js"],"names":["React","axios","AdminReviewReported","Component","constructor","props","state","reportFlag","onActionButtonClick","bind","getSubmittedQuestions","getReportedQuestionsNavigation","getReported","handleReportQuestion","componentDidMount","options","localStorage","getItem","get","then","result","setState","data","forceUpdate","catch","error","console","log","response","question_id","action","index","params","URLSearchParams","append","reported","UserID","post","map","current","current_index","batch_size","QuestionID","Username","Answer1","Math","round","length","ceil","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\nimport './AdminReviewReported.scss'\n\nclass AdminReviewReported extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'reported': [],\n            'batch_size': 15,\n            'current_index': 0,\n            reportFlag: false\n        };\n\n        this.onActionButtonClick = this.onActionButtonClick.bind(this);\n        this.getSubmittedQuestions = this.getSubmittedQuestions.bind(this);\n        this.getReportedQuestionsNavigation = this.getReportedQuestionsNavigation.bind(this);\n        this.getReported = this.getReported.bind(this);\n        this.handleReportQuestion = this.handleReportQuestion.bind(this);\n    }\n\n    componentDidMount() {\n        this.getReported();\n    }\n\n    getReported() {\n        const options = {\n            'headers': {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        };\n\n        axios.get(\n            'http://localhost:80/admin/reported',\n            options\n        ).then((result) => {\n            this.setState({\n                'reported': result.data\n            });\n\n            this.forceUpdate();\n        }).catch((error) => {\n            if ('response' in error) {\n                console.log(error.response);\n            } else {\n                console.log(error);\n            }\n        });\n    }\n\n    onActionButtonClick(question_id, action, index) {\n        const params = new URLSearchParams();\n\n        params.append('question_id', question_id);\n        params.append('action', action);\n        params.append('user_id', this.state.reported[index].UserID);\n\n        const options = {\n            'headers': {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        }\n\n        axios.post(\n            'http://localhost:80/admin/reported',\n            params,\n            options\n        ).then(() => {\n            this.getReported();\n        }).catch((error) => {\n            if ('response' in error) {\n                console.log(error.response);\n            } else {\n                console.log(error);\n            }\n        })\n    }\n\n    getSubmittedQuestions() {\n        return (\n            <table cellSpacing={'0'} cellPadding={'0'}>\n                <thead>\n\n                    <tr className={'TableHeader'}>\n                        <td>Question ID</td>\n                        <td>Username</td>\n                        <td>Reported Questions</td>\n                        <td />\n                        <td />\n                        <td />\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        this.state.reported.map((current, index) => {\n                            if (this.state.current_index <= index &&\n                                this.state.current_index + this.state.batch_size > index) {\n                                return (\n                                    <tr>\n                                        <td>{current.QuestionID}</td>\n                                        <td className={'Highlight'}>{current.Username}</td>\n                                        <td>{current.Answer1}</td>\n                                        <td>\n                                            <button onClick={() => {\n                                                this.onActionButtonClick(current.QuestionID, 1, index);\n                                            }}>\n                                                Approve\n                                        </button>\n                                        </td>\n                                        <td>\n                                            <button onClick={() => {\n                                                this.onActionButtonClick(current.QuestionID, 2, index);\n                                            }}>\n                                                Report User\n                                        </button>\n                                        </td>\n                                        <td>\n                                            <button onClick={() => {\n                                                this.onActionButtonClick(current.QuestionID, 3, index);\n                                            }}>\n                                                Delete\n                                        </button>\n                                        </td>\n                                    </tr>\n                                );\n                            } else {\n                                return <span />\n                            }\n                        }, this)\n                    }\n                </tbody>\n\n            </table>\n        );\n    }\n\n    getReportedQuestionsNavigation() {\n        return (\n            <div className={'TableNavigation'}>\n                <button onClick={() => { this.setState({ 'current_index': 0 }); }}>\n                    {'<<'}\n                </button>\n                <button onClick={() => {\n                    this.setState({\n                        'current_index': this.state.current_index > this.state.batch_size ?\n                            this.state.current_index - this.state.batch_size :\n                            0\n                    });\n                }}>\n                    {'<'}\n                </button>\n                <span>\n                    Page {\n                        Math.round(this.state.current_index / this.state.batch_size) + 1\n                    } of {\n                        this.state.reported.length === 0 ?\n                            1 :\n                            Math.ceil(this.state.reported.length / this.state.batch_size)\n                    }\n                </span>\n                <button onClick={() => {\n                    this.setState({\n                        'current_index':\n                            this.state.current_index + this.state.batch_size < this.state.reported.length ?\n                                this.state.current_index + this.state.batch_size :\n                                this.state.reported.length > this.state.batch_size ?\n                                    this.state.reported.length - this.state.batch_size :\n                                    0\n                    });\n                }}>\n                    {'>'}\n                </button>\n                <button onClick={() => {\n                    this.setState({\n                        'current_index': this.state.reported.length > this.state.batch_size ?\n                            (Math.ceil(this.state.reported.length / this.state.batch_size) - 1) *\n                            this.state.batch_size :\n                            0\n                    });\n                }}>\n                    {'>>'}\n                </button>\n            </div>\n        )\n    }\n\n    handleReportQuestion() {\n\n        this.setState({\n            reportFlag: !this.state.reportFlag,\n        })\n    }\n    render() {\n        return (\n            <div className={'AdminReviewReported'}>\n                <a href=\"#\" className=\"reportedQuestions\" onClick={this.handleReportQuestion}>Reported Questions</a>\n                <br />\n                <br />\n                {this.state.reportFlag ?\n                    <div>\n                        {\n                            this.getSubmittedQuestions()\n                        }\n                        {\n                            this.getReportedQuestionsNavigation()\n                        }\n                    </div>\n                    : ''}\n\n\n            </div>\n        );\n    }\n}\n\nexport default AdminReviewReported;\n"]},"metadata":{},"sourceType":"module"}